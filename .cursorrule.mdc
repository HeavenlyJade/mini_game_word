# PVZWord é¡¹ç›®è§„åˆ™

æœ¬æ–‡æ¡£æ¦‚è¿°äº† PVZWord æ¸¸æˆé¡¹ç›®çš„æ¶æ„ã€çº¦å®šå’Œé‡è¦æ–‡ä»¶ã€‚

## é¡¹ç›®æ¦‚è§ˆ

- **é¡¹ç›®ç±»å‹**: æ¸¸æˆ
- **è¯­è¨€**: Lua (ä½¿ç”¨ LuaJIT-2.1.ROLLING ç‰ˆæœ¬)
- **ç¯å¢ƒ**: é¡¹ç›®éµå¾ªç±»ä¼¼ Roblox çš„ç»“æ„ï¼ŒåŒ…å« `ServerScriptService` å’Œ `ServerStorage` ç­‰ç›®å½•ã€‚è¿™æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯-æœ
æ—¥å¿—æ‰“å°ä½¿ç”¨gg.log
åŠ¡å™¨æ¶æ„ã€‚

## æ¶æ„

ä¸»è¦çš„æ¸¸æˆé€»è¾‘ä½äº `scriptFiles/game/` ç›®å½•ä¸­ã€‚

- **`ServerScriptService/server_enter.lua`**: è¿™æ˜¯æœåŠ¡å™¨ç«¯é€»è¾‘çš„ä¸»è¦å…¥å£ç‚¹ã€‚

- **`MainStorage/Code/`**: æ­¤ç›®å½•åŒ…å«æ ¸å¿ƒæºä»£ç ï¼Œç»„ç»‡å¦‚ä¸‹ï¼š
    - **`Client/`**: åŒ…å«æ‰€æœ‰å®¢æˆ·ç«¯è„šæœ¬ã€‚
    - **`MServer/`**: æœåŠ¡å™¨ç«¯é€»è¾‘çš„æ‰€åœ¨åœ°ï¼ŒåŒ…æ‹¬å®ä½“å®šä¹‰ï¼ˆ`MMonster`, `MPlayer`ï¼‰ã€äº‹ä»¶ç³»ç»Ÿå’Œè°ƒåº¦å™¨ã€‚
    - **`Common/`**: åŒ…å«å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å…±äº«çš„ä»£ç ã€‚è¿™é‡Œæ˜¯å…±äº«é…ç½®ï¼ˆ`MConfig`ï¼‰ã€å¸¸é‡ï¼ˆ`Mconst`ï¼‰å’Œå®ç”¨å·¥å…·ï¼ˆ`MGlobal`ï¼‰çš„åœ°æ–¹ã€‚

- **`ServerStorage/`**: æ­¤ç›®å½•å­˜æ”¾å„ç§æœåŠ¡å™¨ç«¯æ¨¡å—å’Œæ•°æ®ç®¡ç†å™¨ã€‚
    - **`MSystems/`**: **ç©å®¶æ•°æ®ç³»ç»Ÿæ ¸å¿ƒç›®å½•**ï¼Œå­˜æ”¾ç©å®¶çš„èƒŒåŒ…ã€é‚®ä»¶ã€æŠ€èƒ½ã€ä»»åŠ¡ç›¸å…³çš„æ‰€æœ‰ä¸€åˆ‡æ•°æ®ã€‚æ¯ä¸ªå­ç›®å½•ä»£è¡¨ä¸€ä¸ªç‹¬ç«‹çš„ç©å®¶æ•°æ®ç³»ç»Ÿï¼š
        - `Bag/` - èƒŒåŒ…ç³»ç»Ÿï¼ˆç‰©å“å­˜å‚¨ã€è£…å¤‡ç®¡ç†ï¼‰
        - `Mail/` - é‚®ä»¶ç³»ç»Ÿï¼ˆæ¶ˆæ¯æ”¶å‘ã€å¥–åŠ±å‘æ”¾ï¼‰
        - `Skill/` - æŠ€èƒ½ç³»ç»Ÿï¼ˆæŠ€èƒ½å­¦ä¹ ã€å‡çº§ã€é‡Šæ”¾ï¼‰
        - `Quest/` - ä»»åŠ¡ç³»ç»Ÿï¼ˆä»»åŠ¡æ¥å–ã€è¿›åº¦ã€å®Œæˆå¥–åŠ±ï¼‰
        - å…¶ä»–ç©å®¶ç›¸å…³æ•°æ®æ¨¡å—...
        
        **æ¯ä¸ªç³»ç»Ÿçš„æ ‡å‡†ç»“æ„**ï¼š
        - `*Mgr.lua` - åŠŸèƒ½ç®¡ç†å™¨ï¼Œæ˜¯ä¸€ä¸ªé™æ€ç±»ï¼Œè´Ÿè´£å­˜æ”¾å¯¹åº”ç©å®¶çš„äº‘ç«¯æ•°æ®å¹¶å¤„ç†ä¸šåŠ¡é€»è¾‘ã€‚
        - `*EventManager.lua` - äº‹ä»¶ç®¡ç†å™¨ï¼Œå­˜æ”¾ç©å®¶éœ€è¦äº¤äº’çš„æ‰€æœ‰äº‹ä»¶
        - `*CloudDataMgr.lua` - äº‘æ•°æ®ç®¡ç†å™¨ï¼Œå¤„ç†æ•°æ®æŒä¹…åŒ–å’Œç®¡ç†


### ç›®å½•è®¿é—®æƒé™ä¸ç”¨é€”

- **`MainStorage`**: å­˜æ”¾ `ModuleScript` è„šæœ¬ä»£ç ï¼Œè¿™é‡Œçš„ç›®å½•ä¸‹å­˜æ”¾çš„æ˜¯**å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½èƒ½è®¿é—®çš„ä»£ç **ã€‚ä¸»è¦åŒ…å«ï¼š
    - å…±äº«çš„æ¸¸æˆé…ç½®
    - é€šç”¨å·¥å…·å‡½æ•°
    - å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½éœ€è¦ä½¿ç”¨çš„ç±»å®šä¹‰
    - è·¨ç«¯å…±äº«çš„å¸¸é‡å’Œæšä¸¾

- **`ServerStorage`**: å­˜æ”¾**åªèƒ½æœåŠ¡ç«¯è®¿é—®çš„ä»£ç å’Œæ•°æ®**ï¼Œä¸»è¦è´Ÿè´£ç©å®¶æ•°æ®ç®¡ç†ï¼š
    - **ç©å®¶æ ¸å¿ƒæ•°æ®ç³»ç»Ÿ**ï¼š
        - èƒŒåŒ…ç³»ç»Ÿï¼ˆç‰©å“å­˜å‚¨ã€è£…å¤‡ã€é“å…·ç®¡ç†ï¼‰
        - é‚®ä»¶ç³»ç»Ÿï¼ˆç³»ç»Ÿé‚®ä»¶ã€ç©å®¶é‚®ä»¶ã€å¥–åŠ±å‘æ”¾ï¼‰
        - æŠ€èƒ½ç³»ç»Ÿï¼ˆæŠ€èƒ½æ ‘ã€æŠ€èƒ½ç‚¹ã€æŠ€èƒ½æ•ˆæœï¼‰
        - ä»»åŠ¡ç³»ç»Ÿï¼ˆä¸»çº¿ä»»åŠ¡ã€æ”¯çº¿ä»»åŠ¡ã€æ—¥å¸¸ä»»åŠ¡ï¼‰
        - æˆå°±ç³»ç»Ÿã€å¥½å‹ç³»ç»Ÿã€å…¬ä¼šç³»ç»Ÿç­‰
    - **æœåŠ¡ç«¯è¿è¡Œæ—¶æ•°æ®**ï¼šç©å®¶ç™»å½•çŠ¶æ€ã€åœ¨çº¿æ•°æ®ç¼“å­˜
    - **æ•æ„Ÿæ¸¸æˆé€»è¾‘**ï¼šé˜²ä½œå¼ŠéªŒè¯ã€æ•°æ®æ ¡éªŒã€æƒé™ç®¡ç†
    - **æ•°æ®æŒä¹…åŒ–**ï¼šæ•°æ®åº“æ“ä½œã€äº‘å­˜å‚¨ã€æ•°æ®åŒæ­¥

### ğŸš¨ é‡è¦çš„è®¿é—®æ§åˆ¶è§„åˆ™

**ä¸¥æ ¼çš„ç›®å½•è®¿é—®æƒé™é™åˆ¶**ï¼š

```
è®¿é—®è§„åˆ™:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    âŒ ç¦æ­¢è®¿é—®    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MainStorage   â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  ServerStorage  â”‚
â”‚   (å…±äº«ä»£ç )    â”‚                  â”‚  (æœåŠ¡ç«¯ä»£ç )   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    âœ… å…è®¸è®¿é—®    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **MainStorage** **ä¸èƒ½è®¿é—®** `ServerStorage` ä¸­çš„ä»»ä½•ä»£ç 
  - è¿™ä¼šå¯¼è‡´å®¢æˆ·ç«¯è¿è¡Œæ—¶é”™è¯¯
  - è¿åå®¢æˆ·ç«¯-æœåŠ¡ç«¯å®‰å…¨è¾¹ç•Œ
  - å¯èƒ½å¯¼è‡´æ•æ„Ÿä¿¡æ¯æ³„éœ²ç»™å®¢æˆ·ç«¯

- **ServerStorage** **å¯ä»¥è®¿é—®** `MainStorage` ä¸­çš„ä»£ç 
  - æœåŠ¡ç«¯å¯ä»¥ä½¿ç”¨å…±äº«çš„é…ç½®å’Œå·¥å…·
  - å¯ä»¥å¼•ç”¨å…±äº«çš„ç±»å‹å®šä¹‰å’Œå¸¸é‡
  - å¯ä»¥ä½¿ç”¨å…±äº«çš„äº‹ä»¶å®šä¹‰è¿›è¡Œå®¢æˆ·ç«¯é€šä¿¡

**è®¾è®¡åŸåˆ™**ï¼š
1. **å•å‘ä¾èµ–**ï¼šåªå…è®¸ ServerStorage â†’ MainStorage çš„ä¾èµ–å…³ç³»
2. **äº‹ä»¶é©±åŠ¨é€šä¿¡**ï¼šå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯é€šè¿‡äº‹ä»¶ç³»ç»Ÿé€šä¿¡ï¼Œè€Œéç›´æ¥ä»£ç å¼•ç”¨
3. **é…ç½®æ•°æ®åˆ†ç¦»**ï¼šMainStorage åªåŒ…å«é…ç½®æ•°æ®å’Œæ¥å£å®šä¹‰ï¼Œä¸åŒ…å«ä¸šåŠ¡é€»è¾‘
4. **å®‰å…¨è¾¹ç•Œæ¸…æ™°**ï¼šæ‰€æœ‰æ•æ„Ÿè®¡ç®—å’ŒéªŒè¯éƒ½åœ¨ ServerStorage ä¸­å®Œæˆ

## ç¼–ç çº¦å®š

- **ç±»ç³»ç»Ÿ**: é¡¹ç›®ä½¿ç”¨åœ¨ `scriptFiles/game/MainStorage/Code/Untils/ClassMgr.lua` ä¸­å®šä¹‰çš„è‡ªå®šä¹‰ç±»ç³»ç»Ÿã€‚å…¶æ ¸å¿ƒè§„åˆ™å¦‚ä¸‹ï¼š
    - **å®šä¹‰**: ä½¿ç”¨ `ClassMgr.Class("ClassName", SuperClass)` æ¥å®šä¹‰ä¸€ä¸ªç±»ã€‚ç¬¬äºŒä¸ªå‚æ•°ï¼ˆçˆ¶ç±»ï¼‰æ˜¯å¯é€‰çš„ã€‚
      ```lua
      local MyClass = ClassMgr.Class("MyClass", BaseClass)
      ```
    - **æ„é€ å‡½æ•°**: æ„é€ å‡½æ•°çš„æ–¹æ³•åæ˜¯ `OnInit`ã€‚
      ```lua
      function MyClass:OnInit(param1, param2)
          -- åˆå§‹åŒ–é€»è¾‘
      end
      ```
    - **å®ä¾‹åŒ–**: ä½¿ç”¨ `ClassName.New(...)` åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ã€‚
      ```lua
      local myInstance = MyClass.New("a", "b")
      ```
    - **ç»§æ‰¿ä¸æ„é€ **ï¼š`ClassMgr` ä¼šåœ¨å­ç±»å®ä¾‹åŒ–æ—¶ï¼Œ**è‡ªåŠ¨åœ°**ã€**ä»é¡¶å±‚çˆ¶ç±»å¼€å§‹**é€çº§è°ƒç”¨ç»§æ‰¿é“¾ä¸Šæ‰€æœ‰ç±»åˆ«çš„ `OnInit` æ–¹æ³•ï¼Œæœ€åå†è°ƒç”¨å…¶è‡ªèº«çš„`OnInit`ã€‚
      > **ğŸš¨é‡è¦**: å¼€å‘è€… **ç¦æ­¢** åœ¨å­ç±»çš„ `OnInit` æ–¹æ³•ä¸­æ‰‹åŠ¨è°ƒç”¨ `self.super.OnInit(self)`ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†è¯¥è¿‡ç¨‹ã€‚

    - **ç±»å‹æ³¨è§£ (Annotation)**: ä¸ºäº†è®©ä»£ç ç¼–è¾‘å™¨èƒ½å¤Ÿæ­£ç¡®è¯†åˆ«ç±»çš„ç±»å‹å’Œç»§æ‰¿å…³ç³»ï¼Œä»è€Œæ¶ˆé™¤ä¸å¿…è¦çš„è­¦å‘Šå¹¶æä¾›å‡†ç¡®çš„ä»£ç è¡¥å…¨ï¼Œè¯·åŠ¡å¿…éµå¾ªä»¥ä¸‹æ³¨è§£è§„èŒƒï¼š
        - **åŸºç±»**: å¦‚æœä¸€ä¸ªç±»ä¸ç»§æ‰¿è‡ªä»»ä½•å…¶ä»–è‡ªå®šä¹‰ç±»ï¼Œå®ƒçš„ `@class` æ³¨è§£éœ€è¦ç»§æ‰¿è‡ª `Class`ã€‚
          ```lua
          ---@class MyBaseClass : Class
          local MyBaseClass = ClassMgr.Class("MyBaseClass")
          ```
        - **å­ç±»**: å¦‚æœä¸€ä¸ªç±»ç»§æ‰¿è‡ªæŸä¸ªçˆ¶ç±»ï¼Œå®ƒçš„ `@class` æ³¨è§£éœ€è¦æŒ‡æ˜å…¶çˆ¶ç±»ã€‚
          ```lua
          ---@class MyChildClass : MyBaseClass
          local MyChildClass = ClassMgr.Class("MyChildClass", MyBaseClass)
          ```

    - **ç±»å‹æ£€æŸ¥**: ä½¿ç”¨ `instance:Is("ClassName")` æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯æŸä¸ªç±»çš„å®ä¾‹æˆ–å…¶å­ç±»çš„å®ä¾‹ã€‚
      ```lua
      if myInstance:Is("BaseClass") then
          print("è¿™æ˜¯ä¸€ä¸ªBaseClassæˆ–å…¶å­ç±»çš„å®ä¾‹")
      end
      ```

- **å‘½åçº¦å®š**:
    - åŒ…å«ç±»æˆ–ä¸»è¦ç³»ç»Ÿçš„æ¨¡å—é€šå¸¸ä»¥ `M` ä¸ºå‰ç¼€ï¼ˆä¾‹å¦‚ `MConfig`, `MMonster`ï¼‰ã€‚
    - ç®¡ç†å™¨æ¨¡å—é€šå¸¸ä»¥åç¼€ `Mgr` ç»“å°¾ï¼ˆä¾‹å¦‚ `BagMgr`, `ClassMgr`ï¼‰ã€‚
    - **MSystems æ¨¡å—è§„èŒƒ**ï¼š
        - æ¯ä¸ªç©å®¶æ•°æ®ç³»ç»Ÿéƒ½æœ‰ç‹¬ç«‹çš„ç›®å½•ï¼ˆå¦‚ `Bag/`, `Mail/`, `Skill/`ï¼‰
        - **æ ‡å‡†æ–‡ä»¶ç»“æ„**ï¼š
            - `*Mgr.lua` - åŠŸèƒ½ç®¡ç†å™¨ï¼Œå¤„ç†æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
            - `*EventManager.lua` - äº‹ä»¶ç®¡ç†å™¨ï¼Œç®¡ç†ç©å®¶äº¤äº’äº‹ä»¶
            - `CloudDataMgr.lua/` - å­˜æ”¾è¿è¾“æœºçš„ç›®å½•
            - å…¶ä»–ä¸šåŠ¡ç›¸å…³çš„ç±»æ–‡ä»¶ï¼ˆå¦‚ `Item.lua`, `Mail.lua` ç­‰ï¼‰
        - **èŒè´£åˆ†ç¦»åŸåˆ™**ï¼š
            - *Mgrï¼šä¸šåŠ¡é€»è¾‘å¤„ç†ã€æ•°æ®æ“ä½œã€ç³»ç»Ÿé—´é€šä¿¡
            - *EventManagerï¼šäº‹ä»¶ç›‘å¬ã€äº‹ä»¶åˆ†å‘ã€ç©å®¶äº¤äº’å“åº”
            - *CloudDataMgrï¼šæ•°æ®ç»“æ„å®šä¹‰ã€åºåˆ—åŒ–ã€äº‘å­˜å‚¨æ ¼å¼

- **æ—¥å¿—æ‰“å°è§„èŒƒ**:
    - **å¿…é¡»** ä½¿ç”¨ `gg.log()` è¿›è¡Œæ—¥å¿—è¾“å‡ºï¼Œç¦æ­¢ä½¿ç”¨åŸç”Ÿçš„ `print()` å‡½æ•°ã€‚
    - æ—¥å¿—å†…å®¹**å¿…é¡»**ä½¿ç”¨ä¸­æ–‡ï¼Œä»¥ä¾¿äºå›¢é˜Ÿå†…å¿«é€Ÿå®šä½å’Œç†è§£é—®é¢˜ã€‚
      ```lua
      -- æ­£ç¡®ç¤ºä¾‹
      gg.log("é”™è¯¯ï¼šæ‰¾ä¸åˆ°IDä¸º'xxx'çš„é…ç½®ã€‚")

      -- é”™è¯¯ç¤ºä¾‹
      print("Error: Config not found for ID 'xxx'.")
      ```

- **æ¨¡å—å¼•ç”¨çº¦å®š**:
    - åœ¨å¼•ç”¨è‡ªå®šä¹‰çš„ç±»æ¨¡å—æ—¶ï¼Œä¸ºäº†è·å¾—æ›´å¥½çš„ä»£ç æç¤ºå’Œç±»å‹æ£€æŸ¥ï¼Œè¯·åŠ¡å¿…åœ¨ `require` è¯­å¥åé™„ä¸Š `---@type` æ³¨é‡Šã€‚
    - **ç©å®¶ (`MPlayer`) å¼•ç”¨ç¤ºä¾‹**: å½“éœ€è¦è·å–ç©å®¶å¯¹è±¡ç±»å‹æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š
      ```lua
      local MPlayer = require(ServerStorage.EntityTypes.MPlayer) ---@type MPlayer
      ```

## ç›¸å…³æ–‡æ¡£ä½“ç³»

æœ¬é¡¹ç›®ä½¿ç”¨åˆ†å±‚çš„æ–‡æ¡£ä½“ç³»æ¥ç»„ç»‡APIå’Œç±»å‹ä¿¡æ¯ï¼š

### ğŸ“š APIæœåŠ¡ç´¢å¼• (`.cursorrule-api`)
åŒ…å«æ‰€æœ‰å¯ç”¨çš„æ¸¸æˆæœåŠ¡å’Œç±»çš„å®Œæ•´ç´¢å¼•ï¼ŒæŒ‰åŠŸèƒ½åˆ†ç±»ï¼š
- **æœåŠ¡ç±» (Services)**: WorldServiceã€Playersã€UserInputServiceã€CloudServiceç­‰
- **è„šæœ¬ç±» (Scripts)**: LocalScriptã€ModuleScriptã€RemoteEventç­‰  
- **ç•Œé¢ç±» (UI)**: UIButtonã€UITextLabelã€UIScrollViewç­‰
- **å»ºé€ ç±» (Building)**: BlockServiceã€Materialã€Environmentç­‰
- **è§’è‰²å’ŒAI**: Modelã€Actorã€AIBaseç­‰
- **è¾“å…¥ç³»ç»Ÿ**: UserInputServiceã€ContextActionServiceç­‰
- **å£°éŸ³ç³»ç»Ÿ**: SoundServiceã€Soundã€SoundGroupç­‰
- **ç‰¹æ•ˆç³»ç»Ÿ**: PostEffectServiceã€Particleã€EffectObjectç­‰
- **åŠ¨ç”»ç³»ç»Ÿ**: Animatorã€Animationã€Timelineç­‰
- **ç‰©ç†å’Œå…³èŠ‚**: PhysXServiceã€Jointã€Weldç­‰
- **ç©æ³•æ ¸å¿ƒ**: Cameraã€Playerã€Toolã€Areaç­‰
- **äº‘æ•°æ®**: CloudKVStoreã€Assetã€AssetContentç­‰

### ğŸ—ï¸ åŸºç¡€ç±»è¯¦è§£ (`.cursorrule-base`)
è¯¦ç»†æè¿°æ ¸å¿ƒåŸºç¡€ç±»çš„å®Œæ•´APIï¼š
- **SandboxNode**: æ‰€æœ‰èŠ‚ç‚¹çš„åŸºç±»ï¼Œæä¾›èŠ‚ç‚¹ç®¡ç†ã€äº‹ä»¶ç³»ç»Ÿã€åŒæ­¥æœºåˆ¶
- **Transform**: 3Då˜æ¢èŠ‚ç‚¹ï¼Œå¤„ç†ä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾ç­‰ç©ºé—´å˜æ¢
- **ScriptNode**: è„šæœ¬æ‰§è¡ŒèŠ‚ç‚¹ï¼Œæ”¯æŒæ–‡ä»¶å’Œä»£ç å­—ç¬¦ä¸²ä¸¤ç§æ–¹å¼
- **Joint**: ç‰©ç†è¿æ¥èŠ‚ç‚¹ï¼Œç”¨äºåˆ›å»ºç‰©ç†çº¦æŸå’Œè¿æ¥

### ğŸ“Š æ•°æ®ç±»å‹ç´¢å¼• (`.cursorrule-enums`)
åŒ…å«æ‰€æœ‰æšä¸¾å’Œæ•°æ®ç±»å‹çš„å®Œæ•´åˆ—è¡¨ï¼š
- **åŸºç¡€æ•°æ®ç±»å‹**: Boolã€Numberã€Stringã€Vector3ã€Quaternionç­‰
- **è¾“å…¥æšä¸¾**: KeyCodeã€UserInputTypeã€MouseBehaviorç­‰
- **åŠ¨ç”»æšä¸¾**: AnimationPlayModeã€TweenStatusã€EasingStyleç­‰
- **æ¸²æŸ“æšä¸¾**: GraphicsQualityã€BlendModeTypeã€LightTypeç­‰
- **ç‰©ç†æšä¸¾**: PhysicsTypeã€MotorTypeã€CollisionTypeç­‰
- **UIæšä¸¾**: TextAlignmentã€AutoSizeTypeã€LayoutTypeç­‰

## æœåŠ¡ä½¿ç”¨

é¡¹ç›®ä¸­ä½¿ç”¨å¤šç§æ¸¸æˆæœåŠ¡ï¼Œè¯¦ç»†çš„æœåŠ¡æ¥å£æ–‡æ¡£è¯·å‚è€ƒ `.cursorrule-api` æ–‡ä»¶ã€‚

å¸¸ç”¨çš„æœåŠ¡è·å–æ–¹å¼ï¼š
```lua
-- ç»Ÿä¸€ç®¡ç†æœåŠ¡å¼•ç”¨
local MS = {} -- MS ä»£è¡¨ "Mini Services"
MS.RunService = game:GetService("RunService")
MS.Players = game:GetService("Players")
MS.WorldService = game:GetService("WorldService")
MS.UserInputService = game:GetService("UserInputService")
-- æ›´å¤šæœåŠ¡è¯·æŸ¥çœ‹ .cursorrule-api æ–‡æ¡£
```

### æœåŠ¡ä½¿ç”¨ç¤ºä¾‹
```lua
-- å‚è€ƒ .cursorrule-api ä¸­çš„ Players æœåŠ¡
local players = game:GetService("Players")
local localPlayer = players.LocalPlayer

-- å‚è€ƒ .cursorrule-enums ä¸­çš„ KeyCode æšä¸¾
local userInputService = game:GetService("UserInputService")
userInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.Space then
        print("ç©ºæ ¼é”®è¢«æŒ‰ä¸‹")
    end
end)
```

## é‡è¦æ–‡ä»¶

### æ ¸å¿ƒè„šæœ¬æ–‡ä»¶
- **`scriptFiles/game/ServerScriptService/server_enter.lua`**: æœåŠ¡å™¨ä¸»å…¥å£ç‚¹ã€‚æ‰€æœ‰æœåŠ¡å™¨ç«¯é€»è¾‘éƒ½ä»è¿™é‡Œå¼€å§‹ã€‚
- **`scriptFiles/game/ServerStorage/MServerMain.lua`**: å¯èƒ½åŒ…å«å…¥å£ä¹‹åçš„ä¸»æœåŠ¡å™¨å¾ªç¯å’Œåˆå§‹åŒ–é€»è¾‘ã€‚
- **`scriptFiles/game/ServerStorage/MSystems.lua`**: **ç©å®¶æ•°æ®ç³»ç»Ÿæ€»å…¥å£**ï¼Œè´Ÿè´£æ‰€æœ‰ç©å®¶ç›¸å…³ç³»ç»Ÿçš„æ³¨å†Œå’Œåˆå§‹åŒ–ã€‚
- **`scriptFiles/game/MainStorage/Code/Common/GameConfig/MConfig.lua`**: æ¸¸æˆé…ç½®å€¼çš„ä¸»è¦æ–‡ä»¶ã€‚
- **`scriptFiles/game/MainStorage/Code/Untils/ClassMgr.lua`**: å®šä¹‰äº†é¡¹ç›®çš„é¢å‘å¯¹è±¡ç¼–ç¨‹åŸºç¡€ã€‚
- **`scriptFiles/game/MainStorage/Code/Untils/MGlobal.lua`**: åŒ…å«å…¨å±€å¯è®¿é—®çš„å®ç”¨å‡½æ•°ã€‚

### ç©å®¶æ•°æ®ç³»ç»Ÿæ–‡ä»¶ (MSystems/)

#### èƒŒåŒ…ç³»ç»Ÿ (`MSystems/Bag/`)
- **`BagMgr.lua`** - èƒŒåŒ…åŠŸèƒ½ç®¡ç†å™¨
    - ç‰©å“æ·»åŠ ã€åˆ é™¤ã€ç§»åŠ¨é€»è¾‘
    - è£…å¤‡ç©¿æˆ´ã€å¸ä¸‹å¤„ç†
    - èƒŒåŒ…å®¹é‡ç®¡ç†
- **`BagEventManager.lua`** - èƒŒåŒ…äº‹ä»¶ç®¡ç†å™¨
    - ç©å®¶ç‰©å“ä½¿ç”¨äº‹ä»¶
    - è£…å¤‡æ›´æ¢äº‹ä»¶
    - èƒŒåŒ…æ•´ç†äº‹ä»¶
- **`BagCloudDataMgr.lua`** - èƒŒåŒ…äº‘æ•°æ®ç»“æ„
    - èƒŒåŒ…æ•°æ®æ ¼å¼å®šä¹‰
    - ç‰©å“å±æ€§ç»“æ„
    - è£…å¤‡çŠ¶æ€æ•°æ®
- **`Item.lua`** - ç‰©å“æ•°æ®ç±»
- **`ItemUtils.lua`** - ç‰©å“å·¥å…·å‡½æ•°

#### é‚®ä»¶ç³»ç»Ÿ (`MSystems/Mail/`)
- **`MailMgr.lua`** - é‚®ä»¶åŠŸèƒ½ç®¡ç†å™¨
    - é‚®ä»¶å‘é€ã€æ¥æ”¶é€»è¾‘
    - é™„ä»¶å¤„ç†
    - é‚®ä»¶çŠ¶æ€ç®¡ç†
- **`MailEventManager.lua`** - é‚®ä»¶äº‹ä»¶ç®¡ç†å™¨
    - ç©å®¶æŸ¥çœ‹é‚®ä»¶äº‹ä»¶
    - é¢†å–é™„ä»¶äº‹ä»¶
    - åˆ é™¤é‚®ä»¶äº‹ä»¶
- **`cloudMailData.lua`** - é‚®ä»¶äº‘æ•°æ®ç»“æ„
    - é‚®ä»¶æ•°æ®æ ¼å¼
    - é™„ä»¶æ•°æ®ç»“æ„
    - é‚®ä»¶çŠ¶æ€å®šä¹‰


#### æœªæ¥æ‰©å±•ç³»ç»Ÿç¤ºä¾‹
- **`MSystems/Skill/`** - æŠ€èƒ½ç³»ç»Ÿ
    - `SkillManager.lua` - æŠ€èƒ½åŠŸèƒ½ç®¡ç†
    - `SkillEventManager.lua` - æŠ€èƒ½äº¤äº’äº‹ä»¶
    - `Skillclouddata.lua` - æŠ€èƒ½æ•°æ®ç»“æ„
- **`MSystems/Quest/`** - ä»»åŠ¡ç³»ç»Ÿ
    - `QuestManager.lua` - ä»»åŠ¡åŠŸèƒ½ç®¡ç†
    - `QuestEventManager.lua` - ä»»åŠ¡äº¤äº’äº‹ä»¶
    - `Questclouddata.lua` - ä»»åŠ¡æ•°æ®ç»“æ„

### æ–‡æ¡£è§„åˆ™æ–‡ä»¶
- **`.cursorrule`** (æœ¬æ–‡ä»¶): é¡¹ç›®æ ¸å¿ƒè§„åˆ™ã€æ¶æ„æ¦‚è§ˆå’Œç¼–ç çº¦å®š
- **`.cursorrule-api`**: å®Œæ•´çš„APIæœåŠ¡å’Œç±»ç´¢å¼•ï¼ŒæŒ‰åŠŸèƒ½åˆ†ç±»ç»„ç»‡
- **`.cursorrule-base`**: åŸºç¡€ç±»(SandboxNodeã€Transformã€Jointç­‰)çš„è¯¦ç»†æ–‡æ¡£
- **`.cursorrule-enums`**: æ‰€æœ‰æšä¸¾ç±»å‹å’Œæ•°æ®ç±»å‹çš„å®Œæ•´åˆ—è¡¨

### æ–‡æ¡£ä½¿ç”¨æŒ‡å—
åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå»ºè®®æŒ‰ä»¥ä¸‹é¡ºåºæŸ¥é˜…æ–‡æ¡£ï¼š
1. å…ˆæŸ¥çœ‹æœ¬æ–‡ä»¶äº†è§£é¡¹ç›®æ•´ä½“æ¶æ„
2. åœ¨ `.cursorrule-api` ä¸­æ‰¾åˆ°éœ€è¦çš„æœåŠ¡å’Œç±»
3. åœ¨ `.cursorrule-base` ä¸­äº†è§£åŸºç¡€ç±»çš„ä½¿ç”¨æ–¹æ³•
4. åœ¨ `.cursorrule-enums` ä¸­ç¡®è®¤æ•°æ®ç±»å‹å’Œæšä¸¾å€¼

## æœ¬åœ°è„šæœ¬ (LocalScript)

### å®˜æ–¹å®šä¹‰

`LocalScript` ç”¨äºåœ¨è¿æ¥åˆ°è¿·ä½ ä¸–ç•Œ Studio æœåŠ¡å™¨çš„å®¢æˆ·ç«¯ä¸Šè¿è¡Œ Lua ä»£ç ã€‚å®ƒä»¬ç”¨äºè®¿é—®ä»…é™å®¢æˆ·ç«¯çš„å¯¹è±¡ï¼Œå¦‚ç©å®¶çš„ `Camera`ã€‚å¯¹äºé€šè¿‡ `LocalScript` è¿è¡Œçš„ä»£ç ï¼Œ`Players` æœåŠ¡çš„ `LocalPlayer` å±æ€§å°†è¿”å›å®¢æˆ·ç«¯æ­£åœ¨è¿è¡Œè„šæœ¬çš„ç©å®¶ã€‚

ä»…å½“ Lua ä»£ç æ˜¯ä»¥ä¸‹æŸä¸ªå¯¹è±¡çš„åä»£æ—¶ï¼Œ`LocalScript` æ‰ä¼šè¿è¡Œè¯¥ä»£ç ï¼š

- ç©å®¶çš„ `Backpack`ï¼ˆèƒŒåŒ…ï¼‰ï¼Œå¦‚ `Tool`ï¼ˆå·¥å…·ï¼‰çš„å­é¡¹
- ç©å®¶çš„ `character`ï¼ˆè§’è‰²ï¼‰æ¨¡å‹
- ç©å®¶çš„ `Actor`ï¼ˆæ¼”å‘˜ï¼‰ï¼Œè”æœºæƒ…å†µä¸‹åªæœ‰ `LocalPlayer` å¯¹åº”çš„ `Actor` å¯¹è±¡çš„ `LocalScript` æ‰ä¼šè¿è¡Œ
- ç©å®¶çš„ `PlayerGui`
- ç©å®¶çš„ `PlayerScripts`
- `LocalFirst` æœåŠ¡

### ä½¿ç”¨åœºæ™¯

å½“éœ€è¦å¯¹æœ¬åœ°ï¼ˆå³å®¢æˆ·ç«¯ï¼‰å¯¹è±¡è¿›è¡Œæ“ä½œæ—¶ï¼Œé€šå¸¸ä¼šç”¨åˆ° `LocalScript`ã€‚å¸¸è§çš„åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š

1.  æ”¹å˜æ‘„åƒæœºçš„ç›¸å…³å±æ€§ã€‚
2.  è·å–æœ¬åœ°ç©å®¶å¯¹è±¡: `game:GetService("Players").LocalPlayer`ã€‚
3.  å¤„ç†ç”¨æˆ·è¾“å…¥ã€‚
4.  ä¿®æ”¹å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰ã€‚

**æ³¨æ„**: åœ¨ `LocalScript` ä¸­æ‰€åšçš„ä¿®æ”¹ï¼ˆä¾‹å¦‚ï¼Œä¿®æ”¹æŸä¸ªç‰©ä½“çš„é¢œè‰²æˆ–å¤§å°ï¼‰ä»…åœ¨è¯¥å®¢æˆ·ç«¯ä¸Šç”Ÿæ•ˆï¼Œå…¶ä»–ç©å®¶çœ‹åˆ°è¯¥ç‰©ä½“ä»æ˜¯ä¿®æ”¹å‰çš„æ ·å­ã€‚å¦‚æœå¸Œæœ›å¯¹ç©å®¶è§’è‰²çš„ä¿®æ”¹ï¼ˆå¦‚ç§»åŠ¨é€Ÿåº¦ã€è·³è·ƒåŠ›ï¼‰åŒæ­¥åˆ°æœåŠ¡å™¨ï¼Œä½¿æ‰€æœ‰ç©å®¶éƒ½èƒ½çœ‹åˆ°æ•ˆæœï¼Œåˆ™åº”åœ¨æœåŠ¡å™¨è„šæœ¬ä¸­å¤„ç†ã€‚

### ä»£ç ç¤ºä¾‹

**1. æ‰“å°å½“å‰ç›¸æœºçš„ä½ç½®**
```lua
print(game:GetService("WorkSpace").CurrentCamera.Position)
```

**2. æ”¹å˜å½“å‰ç©å®¶çš„ç§»åŠ¨é€Ÿåº¦**
```lua
local player = game:GetService("Players").LocalPlayer
local character = player.Character
character.Movespeed = 30
```

**3. è·å–ç”¨æˆ·è¾“å…¥ï¼ˆæŒ‰ä¸‹Jé”®æ—¶æ‰“å°"Hello"ï¼‰**
```lua
-- å‚è€ƒ .cursorrule-api ä¸­çš„ ContextActionService æœåŠ¡
local contextActionService = game:GetService("ContextActionService")
function PrintHello()
  print("Hello")
end
-- å‚è€ƒ .cursorrule-enums ä¸­çš„ KeyCode æšä¸¾
contextActionService:BindAction("printHello", PrintHello, false, Enum.KeyCode.J)
```

## æœåŠ¡å™¨è„šæœ¬ (ServerScript)

### å®˜æ–¹å®šä¹‰

`Script`ï¼ˆè„šæœ¬ï¼‰æ˜¯ä¸€ç§ Lua ä»£ç å®¹å™¨ï¼Œå…¶å†…å®¹åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè„šæœ¬åŒ…å« `print("Hello, world")`ã€‚å¦‚æœ `Disabled` å±æ€§ä¸º `false`ï¼Œå¹¶ä¸” `Script` å¯¹è±¡æ˜¯ `Workspace` æˆ– `ServerScriptService` çš„åä»£ï¼Œé‚£ä¹ˆè„šæœ¬ä¸­çš„ Lua ä»£ç å°†åœ¨ä¸€ä¸ªæ–°çº¿ç¨‹ä¸­è¿è¡Œã€‚

è„šæœ¬ä¼šæŒç»­è¿è¡Œï¼Œç›´åˆ°ä¸å†æ»¡è¶³ä¸Šè¿°æ¡ä»¶ï¼Œæˆ–è€…è¢«é”€æ¯ã€äº§ç”Ÿé”™è¯¯ã€‚è„šæœ¬å¯ä»¥è®¿é—®æ‰€æœ‰æœåŠ¡å™¨ç«¯å¯¹è±¡ã€å±æ€§å’Œäº‹ä»¶ã€‚

### æ ¸å¿ƒåŒºåˆ«ä¸ç”¨é€”

`Script` å’Œ `LocalScript` åœ¨ä»£ç é€»è¾‘ä¸Šå¯èƒ½ç›¸ä¼¼ï¼Œä½†æ‰§è¡Œç¯å¢ƒå®Œå…¨ä¸åŒã€‚

-   **å…¨å±€å½±å“**: é€šè¿‡ `Script` å¯¹æ¸¸æˆä¸–ç•Œï¼ˆå¦‚ä¿®æ”¹ç‰©ä½“çš„é¢œè‰²æˆ–å¤§å°ï¼‰æ‰€åšçš„ä»»ä½•ä¿®æ”¹ï¼Œéƒ½ä¼šåŒæ­¥åˆ°æœåŠ¡å™¨ä¸Šæ‰€æœ‰è¿æ¥çš„å®¢æˆ·ç«¯ï¼ˆå³æ‰€æœ‰ç©å®¶éƒ½èƒ½çœ‹åˆ°å˜åŒ–ï¼‰ã€‚
-   **æœåŠ¡å™¨ç‹¬æœ‰åŠŸèƒ½**: åªæœ‰ `Script` æ‰èƒ½æ‰§è¡Œä¸€äº›æ•æ„Ÿæˆ–å…¨å±€æ€§çš„æ“ä½œï¼Œä¾‹å¦‚ï¼š
    -   è°ƒç”¨æ•°æ®åº“ç›¸å…³çš„ APIã€‚
    -   å‘é€ HTTP è¯·æ±‚ã€‚
    -   ç®¡ç†æ‰€æœ‰ç©å®¶çš„æ•°æ®å’ŒçŠ¶æ€ã€‚

### ä»£ç ç¤ºä¾‹

**1. è·å–æœåŠ¡å™¨ä¸Šæ‰€æœ‰ç©å®¶ï¼Œå¹¶ä¿®æ”¹ä»–ä»¬çš„ç§»åŠ¨é€Ÿåº¦**
```lua
-- å‚è€ƒ .cursorrule-api ä¸­çš„ Players æœåŠ¡
local players = game:GetService("Players")
local allPlayers = players:GetPlayers()
for _, player in ipairs(allPlayers) do
    local character = player.Character
    if character then
        character.Movespeed = 100
        print("ç©å®¶åç§°ä¸º: " .. player.Name .. " çš„ç§»åŠ¨é€Ÿåº¦ä¿®æ”¹ä¸º100")
    end
end
```

## æ¨¡å—è„šæœ¬ (ModuleScript)

### æ ¸å¿ƒç”¨é€”

`ModuleScript` æ˜¯ä¸€ç§å¯è¢«å…¶ä»–è„šæœ¬ï¼ˆ`Script` æˆ– `LocalScript`ï¼‰å¼•ç”¨çš„ç‰¹æ®Šè„šæœ¬ï¼Œä¸»è¦ç”¨äº**ä»£ç å¤ç”¨**å’Œ**é›†ä¸­ç®¡ç†é…ç½®**ã€‚å®ƒæœ¬èº«ä¸ä¼šè‡ªåŠ¨è¿è¡Œï¼Œè€Œæ˜¯ç­‰å¾…å…¶ä»–è„šæœ¬é€šè¿‡ `require()` å‡½æ•°æ¥åŠ è½½å¹¶æ‰§è¡Œå…¶ä»£ç ï¼Œç„¶åè¿”å›ä¸€ä¸ªå€¼ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªè¡¨æˆ–å‡½æ•°ï¼‰ã€‚

è¿™è§£å†³äº†é‡å¤ç¼–å†™ç›¸åŒé€»è¾‘çš„é—®é¢˜ï¼Œå¹¶ä½¿å¾—ä»£ç æ›´æ˜“äºç»´æŠ¤ã€‚

### ä½¿ç”¨åœºæ™¯ç¤ºä¾‹

**1. å…±äº«åŠŸèƒ½ï¼ˆå¦‚UIç®¡ç†å™¨ï¼‰**

-   **åœºæ™¯**: æ¸¸æˆä¸­æœ‰å¤šä¸ªè„šæœ¬ï¼ˆè„šæœ¬Aã€è„šæœ¬Bï¼‰éœ€è¦æ ¹æ®ä¸åŒé€»è¾‘ï¼ˆæ¸¸æˆè¿›ç¨‹ã€ç©å®¶è¡Œä¸ºï¼‰å»æ›´æ–°åŒä¸€ä¸ªå…¬å‘Šç‰ŒUIã€‚
-   **è§£å†³æ–¹æ¡ˆ**: åˆ›å»ºä¸€ä¸ªåä¸º `DisplayManager` çš„ `ModuleScript`ï¼Œå®ƒå†…éƒ¨åŒ…å«ä¸€ä¸ªä¸“é—¨æ›´æ–°å…¬å‘Šç‰ŒUIçš„å‡½æ•°ã€‚è„šæœ¬Aå’Œè„šæœ¬Båªéœ€ `require` è¿™ä¸ªæ¨¡å—ï¼Œå¹¶è°ƒç”¨å…¶æä¾›çš„å‡½æ•°å³å¯ï¼Œæ— éœ€å„è‡ªç¼–å†™UIæ›´æ–°ä»£ç ã€‚

**2. é›†ä¸­é…ç½®ï¼ˆå¦‚æ¸¸æˆè®¾ç½®ï¼‰**

-   **åœºæ™¯**: å¤šä¸ªè„šæœ¬éœ€è¦ä½¿ç”¨ä¸€äº›å…±äº«çš„é…ç½®å‚æ•°ï¼ˆå¦‚ç©å®¶åˆå§‹ç”Ÿå‘½å€¼ã€æŸä¸ªåŠŸèƒ½çš„å¼€å…³ç­‰ï¼‰ã€‚
-   **è§£å†³æ–¹æ¡ˆ**: åˆ›å»ºä¸€ä¸ªåä¸º `GameSetting` çš„ `ModuleScript`ï¼Œå®ƒè¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰é…ç½®é¡¹çš„è¡¨ã€‚ä»»ä½•éœ€è¦è¿™äº›é…ç½®çš„è„šæœ¬éƒ½å¯ä»¥ `require` è¿™ä¸ªæ¨¡å—æ¥è·å–å‚æ•°ã€‚è¿™æ ·ï¼Œå½“éœ€è¦ä¿®æ”¹é…ç½®æ—¶ï¼Œåªéœ€ä¿®æ”¹è¿™ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€æœ‰å¼•ç”¨å®ƒçš„è„šæœ¬éƒ½ä¼šè‡ªåŠ¨è·å¾—æ›´æ–°ï¼Œä¾¿äºç»Ÿä¸€ç®¡ç†ã€‚

### ä»£ç ç»“æ„ç¤ºä¾‹

**GameSetting (ModuleScript)**
```lua
local GameSettings = {}

GameSettings.PlayerHealth = 100
GameSettings.EnableSpecialFeature = true

return GameSettings
```

**å…¶ä»–è„šæœ¬å¼•ç”¨**
```lua
-- require() å‡½æ•°çš„å‚æ•°éœ€è¦æ˜¯ ModuleScript çš„å®é™…è·¯å¾„
-- å‚è€ƒ .cursorrule-base ä¸­çš„ ScriptNode äº†è§£æ¨¡å—è„šæœ¬çš„è¯¦ç»†ç”¨æ³•
local settings = require(game.ServerStorage.GameSetting)

print("ç©å®¶çš„åˆå§‹ç”Ÿå‘½å€¼æ˜¯: " .. settings.PlayerHealth)
```

## MSystems å¼€å‘è§„èŒƒ

### æ–°å¢ç©å®¶æ•°æ®ç³»ç»Ÿçš„æ ‡å‡†æµç¨‹

å½“éœ€è¦æ·»åŠ æ–°çš„ç©å®¶æ•°æ®ç³»ç»Ÿæ—¶ï¼Œè¯·éµå¾ªä»¥ä¸‹æ ‡å‡†ç»“æ„ï¼š

**1. åˆ›å»ºç³»ç»Ÿç›®å½•ç»“æ„**
```
MSystems/NewSystem/
â”œâ”€â”€ NewSystemManager.lua          -- åŠŸèƒ½ç®¡ç†å™¨
â”œâ”€â”€ NewSystemEventManager.lua     -- äº‹ä»¶ç®¡ç†å™¨
â”‚   NewSystemCloudDataMgr.lua     -- äº‘å­˜å‚¨
â”œâ”€â”€ NewSystemBase.lua             -- åŸºç¡€ç±»ï¼ˆå¯é€‰ï¼‰
â””â”€â”€ NewSystemUtils.lua            -- å·¥å…·å‡½æ•°ï¼ˆå¯é€‰ï¼‰
```

**2. Manager å®ç°ç¤ºä¾‹**
```lua
-- NewSystemManager.lua - åŠŸèƒ½ç®¡ç†å™¨
local NewSystemManager = ClassMgr.Class("NewSystemManager")

function NewSystemManager:OnInit()
    -- åˆå§‹åŒ–ä¸šåŠ¡é€»è¾‘
end

function NewSystemManager:ProcessPlayerAction(player, action, data)
    -- å¤„ç†ç©å®¶æ“ä½œ
    -- è°ƒç”¨äº‘æ•°æ®ä¿å­˜
    -- è§¦å‘ç›¸å…³äº‹ä»¶
end

return NewSystemManager
```

**3. EventManager å®ç°ç¤ºä¾‹**
```lua
-- NewSystemEventManager.lua - äº‹ä»¶ç®¡ç†å™¨
local NewSystemEventManager = ClassMgr.Class("NewSystemEventManager")

function NewSystemEventManager:OnInit()
    -- æ³¨å†Œç©å®¶äº¤äº’äº‹ä»¶
    self:RegisterPlayerEvents()
end

function NewSystemEventManager:RegisterPlayerEvents()
    -- ç›‘å¬ç©å®¶äº¤äº’äº‹ä»¶
    -- å‚è€ƒ .cursorrule-api ä¸­çš„äº‹ä»¶ç³»ç»Ÿ
end

function NewSystemEventManager:OnPlayerInteract(player, eventData)
    -- å¤„ç†ç©å®¶äº¤äº’
    -- è°ƒç”¨å¯¹åº”çš„Manageræ–¹æ³•
end


``` 